{"version":3,"sources":["PinInputField.tsx"],"names":["PinInputFiled","fieldIndex","defaultValue","pDefaultValue","props","ref","handleChange","value","cValue","setRefList","cDefaultValue","handleMultiValueChange","context","React","useContext","PinInputContext","keyPressHandler","event","Platform","OS","nativeEvent","key","textChangeHandler","myRef","useRef","useEffect","memo","forwardRef"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,aAAa,GAAG,CACpB;AACEC,EAAAA,UAAU,GAAG,CADf;AAEEC,EAAAA,YAAY,EAAEC,aAFhB;AAGE,KAAGC;AAHL,CADoB,EAMpBC,GANoB,KAOjB;AACH,MAAI;AACFC,IAAAA,YADE;AAEFC,IAAAA,KAAK,EAAEC,MAFL;AAGFC,IAAAA,UAHE;AAIFP,IAAAA,YAAY,EAAEQ,aAJZ;AAKFC,IAAAA,sBALE;AAMF,OAAGC;AAND,MAOkBC,eAAMC,UAAN,CAAiBC,wBAAjB,CAPtB;;AAQAL,EAAAA,aAAa,GAAGA,aAAa,IAAIA,aAAa,CAACT,UAAD,CAA9C;AACA,MAAIC,YAAY,GAAGC,aAAa,IAAIO,aAApC;AACA,MAAIH,KAAK,GAAGC,MAAM,IAAIA,MAAM,CAACP,UAAD,CAA5B;;AAEA,QAAMe,eAAe,GAAIC,KAAD,IAAgB;AACtC,QAAIC,sBAASC,EAAT,KAAgB,KAApB,EAA2B;AACzB,UAAIF,KAAK,CAACG,WAAN,CAAkBC,GAAlB,IAAyB,CAAzB,IAA8BJ,KAAK,CAACG,WAAN,CAAkBC,GAAlB,IAAyB,CAA3D,EAA8D;AAC5Df,QAAAA,YAAY,IAAIA,YAAY,CAACW,KAAK,CAACG,WAAN,CAAkBC,GAAnB,EAAwBpB,UAAxB,CAA5B;AACD,OAFD,MAEO,IAAIgB,KAAK,CAACG,WAAN,CAAkBC,GAAlB,KAA0B,WAA9B,EAA2C;AAChDf,QAAAA,YAAY,IAAIA,YAAY,CAAC,EAAD,EAAKL,UAAL,CAA5B;AACD;AACF;AACF,GARD;;AASA,QAAMqB,iBAAiB,GAAIf,KAAD,IAAgB;AACxC;AACAI,IAAAA,sBAAsB,IAAIA,sBAAsB,CAACJ,KAAD,EAAQN,UAAR,CAAhD;AACD,GAHD;;AAIA,QAAMsB,KAAK,GAAGV,eAAMW,MAAN,CAAa,IAAb,CAAd;;AACAX,iBAAMY,SAAN,CAAgB,MAAM;AACpBhB,IAAAA,UAAU,IAAIA,UAAU,CAACc,KAAD,EAAQtB,UAAR,CAAxB;AACD,GAFD,EAEG,CAACsB,KAAD,EAAQtB,UAAR,EAAoBQ,UAApB,CAFH,EA3BG,CA+BH;;;AACA,MAAI,kDAAsBL,KAAtB,CAAJ,EAAkC;AAChC,WAAO,IAAP;AACD;;AACD,sBACE,6BAAC,YAAD,CACE;AADF;AAEE,IAAA,GAAG,EAAE,sBAAU,CAACmB,KAAD,EAAQlB,GAAR,CAAV;AAFP,KAGMO,OAHN,EAIMR,KAJN;AAKE,IAAA,UAAU,EAAGa,KAAD,IAAWD,eAAe,CAACC,KAAD,CALxC;AAME,IAAA,YAAY,EAAGV,KAAD,IAAWe,iBAAiB,CAACf,KAAD,CAN5C;AAOE,IAAA,YAAY,EAAC,SAPf;AAQE,IAAA,YAAY,EAAEL,YARhB;AASE,IAAA,KAAK,EAAEK;AATT,KADF;AAaD,CAvDD;;4BAyDeM,eAAMa,IAAN,eAAWb,eAAMc,UAAN,CAAiB3B,aAAjB,CAAX,C","sourcesContent":["import React from 'react';\nimport { Input } from '../../primitives/Input';\nimport type { IPinInputFieldProps, IPinInputContext } from './types';\nimport { PinInputContext } from './Context';\nimport { Platform } from 'react-native';\nimport { mergeRefs } from '../../../utils';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst PinInputFiled = (\n  {\n    fieldIndex = 0,\n    defaultValue: pDefaultValue,\n    ...props\n  }: IPinInputFieldProps,\n  ref?: any\n) => {\n  let {\n    handleChange,\n    value: cValue,\n    setRefList,\n    defaultValue: cDefaultValue,\n    handleMultiValueChange,\n    ...context\n  }: IPinInputContext = React.useContext(PinInputContext);\n  cDefaultValue = cDefaultValue && cDefaultValue[fieldIndex];\n  let defaultValue = pDefaultValue || cDefaultValue;\n  let value = cValue && cValue[fieldIndex];\n\n  const keyPressHandler = (event: any) => {\n    if (Platform.OS !== 'web') {\n      if (event.nativeEvent.key >= 0 && event.nativeEvent.key <= 9) {\n        handleChange && handleChange(event.nativeEvent.key, fieldIndex);\n      } else if (event.nativeEvent.key === 'Backspace') {\n        handleChange && handleChange('', fieldIndex);\n      }\n    }\n  };\n  const textChangeHandler = (value: any) => {\n    // Also used to handle change for Android.\n    handleMultiValueChange && handleMultiValueChange(value, fieldIndex);\n  };\n  const myRef = React.useRef(null);\n  React.useEffect(() => {\n    setRefList && setRefList(myRef, fieldIndex);\n  }, [myRef, fieldIndex, setRefList]);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <Input\n      //@ts-ignore\n      ref={mergeRefs([myRef, ref])}\n      {...context}\n      {...props}\n      onKeyPress={(event) => keyPressHandler(event)}\n      onChangeText={(value) => textChangeHandler(value)}\n      keyboardType=\"numeric\"\n      defaultValue={defaultValue}\n      value={value}\n    />\n  );\n};\n\nexport default React.memo(React.forwardRef(PinInputFiled));\n"]}