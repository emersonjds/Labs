{"version":3,"sources":["useScreenReaderEnabled.ts"],"names":["useScreenReaderEnabled","enabled","setEnabled","React","useState","mountedRef","useRef","handleSetEnabled","value","current","useEffect","setInitialValue","res","AccessibilityInfo","isScreenReaderEnabled","handler","addEventListener","event","removeEventListener"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,SAASA,sBAAT,GAAkC;AACvC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBC,eAAMC,QAAN,CAAe,KAAf,CAA9B;;AACA,QAAMC,UAAU,GAAGF,eAAMG,MAAN,CAAa,KAAb,CAAnB;;AAEA,QAAMC,gBAAgB,GAAIC,KAAD,IAAoB;AAC3C,QAAIH,UAAU,CAACI,OAAf,EAAwB;AACtBP,MAAAA,UAAU,CAACM,KAAD,CAAV;AACD;AACF,GAJD;;AAMAL,iBAAMO,SAAN,CAAgB,MAAM;AACpBL,IAAAA,UAAU,CAACI,OAAX,GAAqB,IAArB;;AACA,mBAAeE,eAAf,GAAiC;AAC/B,YAAMC,GAAG,GAAG,MAAMC,+BAAkBC,qBAAlB,EAAlB;AACAP,MAAAA,gBAAgB,CAACK,GAAD,CAAhB;AACD;;AAED,QAAIG,OAAY,GAAGF,+BAAkBG,gBAAlB,CACjB,qBADiB,EAEhBC,KAAD,IAAgB;AACdV,MAAAA,gBAAgB,CAACU,KAAD,CAAhB;AACD,KAJgB,CAAnB;;AAOAN,IAAAA,eAAe;AACf,WAAO,MAAM;AACXN,MAAAA,UAAU,CAACI,OAAX,GAAqB,KAArB;;AACAI,qCAAkBK,mBAAlB,CAAsC,qBAAtC,EAA6DH,OAA7D;AACD,KAHD;AAID,GAnBD;;AAqBA,SAAOd,OAAP;AACD","sourcesContent":["import React from 'react';\nimport { AccessibilityInfo } from 'react-native';\n\nexport function useScreenReaderEnabled() {\n  const [enabled, setEnabled] = React.useState(false);\n  const mountedRef = React.useRef(false);\n\n  const handleSetEnabled = (value: boolean) => {\n    if (mountedRef.current) {\n      setEnabled(value);\n    }\n  };\n\n  React.useEffect(() => {\n    mountedRef.current = true;\n    async function setInitialValue() {\n      const res = await AccessibilityInfo.isScreenReaderEnabled();\n      handleSetEnabled(res);\n    }\n\n    let handler: any = AccessibilityInfo.addEventListener(\n      'screenReaderChanged',\n      (event: any) => {\n        handleSetEnabled(event);\n      }\n    );\n\n    setInitialValue();\n    return () => {\n      mountedRef.current = false;\n      AccessibilityInfo.removeEventListener('screenReaderChanged', handler);\n    };\n  });\n\n  return enabled;\n}\n"]}