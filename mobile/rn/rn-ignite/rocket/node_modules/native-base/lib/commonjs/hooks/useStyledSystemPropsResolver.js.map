{"version":3,"sources":["useStyledSystemPropsResolver.ts"],"names":["getStyledSystemPropsAndRestProps","props","styledSystemProps","restProps","key","propConfig","useStyledSystemPropsResolver","style","propStyle","debug","theme","currentBreakpoint","config","strictMode","getResponsiveStyles","dataSet","React","useMemo","styleSheet","box","process","env","NODE_ENV","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AADA;AAGA,MAAMA,gCAAgC,GAAIC,KAAD,IAAgB;AACvD,QAAMC,iBAAsB,GAAG,EAA/B;AACA,QAAMC,SAAc,GAAG,EAAvB;;AAEA,OAAK,IAAIC,GAAT,IAAgBH,KAAhB,EAAuB;AACrB,QAAIG,GAAG,IAAIC,wBAAX,EAAuB;AACrBH,MAAAA,iBAAiB,CAACE,GAAD,CAAjB,GAAyBH,KAAK,CAACG,GAAD,CAA9B;AACD,KAFD,MAEO;AACLD,MAAAA,SAAS,CAACC,GAAD,CAAT,GAAiBH,KAAK,CAACG,GAAD,CAAtB;AACD;AACF;;AAED,SAAO;AAAEF,IAAAA,iBAAF;AAAqBC,IAAAA;AAArB,GAAP;AACD,CAbD;;AAeO,MAAMG,4BAA4B,GAAG,CAAC;AAC3CC,EAAAA,KAAK,EAAEC,SADoC;AAE3CC,EAAAA,KAF2C;AAG3C,KAAGR;AAHwC,CAAD,KAIjC;AACT,QAAMS,KAAK,GAAG,yBAAd;AACA,QAAM;AAAEC,IAAAA,iBAAF;AAAqBC,IAAAA;AAArB,MAAgC,4CACpC,qBADoC,CAAtC;AAGA,QAAMC,UAAU,GAAGD,MAAM,CAACC,UAA1B;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAA0B,6CAAhC;AAEA,QAAM;AAAEZ,IAAAA,iBAAF;AAAqBC,IAAAA;AAArB,MAAmCH,gCAAgC,CACvEC,KADuE,CAAzE;;AAIA,QAAM;AAAEM,IAAAA,KAAF;AAASQ,IAAAA;AAAT,MAAqBC,eAAMC,OAAN,CAAc,MAAM;AAC7C,UAAM;AAAEC,MAAAA,UAAF;AAAcH,MAAAA;AAAd,QAA0B,4CAAyB;AACvDb,MAAAA,iBADuD;AAEvDQ,MAAAA,KAFuD;AAGvDD,MAAAA,KAHuD;AAIvDE,MAAAA,iBAJuD;AAKvDE,MAAAA,UALuD;AAMvDC,MAAAA;AANuD,KAAzB,CAAhC;;AAQA,QAAIN,SAAJ,EAAe;AACb,aAAO;AAAED,QAAAA,KAAK,EAAE,CAACW,UAAU,CAACC,GAAZ,EAAiBX,SAAjB,CAAT;AAAsCO,QAAAA;AAAtC,OAAP;AACD,KAFD,MAEO;AACL,aAAO;AAAER,QAAAA,KAAK,EAAEW,UAAU,CAACC,GAApB;AAAyBJ,QAAAA;AAAzB,OAAP;AACD,KAb4C,CAc7C;;AACD,GAf0B,EAexB,CACD;AACA,2BAAWb,iBAAX,CAFC,EAGDQ,KAHC,EAIDD,KAJC,EAKDE,iBALC,EAMDE,UANC,EAODL,SAPC,EAQDM,mBARC,EASDb,KATC,CAfwB,CAA3B;;AA0BA,MAAImB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IAA0Cb,KAA9C,EAAqD;AACnD;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8Bb,iBAA9B;AACD;;AAEDR,EAAAA,SAAS,CAACY,OAAV,GAAoBA,OAApB;AAEA,SAAO,CAACR,KAAD,EAAQJ,SAAR,CAAP;AACD,CAnDM","sourcesContent":["import { getStyleAndFilteredProps, propConfig } from '../theme/styled-system';\nimport { useTheme } from './useTheme';\nimport React from 'react';\nimport { useNativeBaseConfig } from '../core/NativeBaseContext';\nimport { useResponsiveQuery } from '../utils/useResponsiveQuery';\n//@ts-ignore\nimport stableHash from 'stable-hash';\n\nconst getStyledSystemPropsAndRestProps = (props: any) => {\n  const styledSystemProps: any = {};\n  const restProps: any = {};\n\n  for (let key in props) {\n    if (key in propConfig) {\n      styledSystemProps[key] = props[key];\n    } else {\n      restProps[key] = props[key];\n    }\n  }\n\n  return { styledSystemProps, restProps };\n};\n\nexport const useStyledSystemPropsResolver = ({\n  style: propStyle,\n  debug,\n  ...props\n}: any) => {\n  const theme = useTheme();\n  const { currentBreakpoint, config } = useNativeBaseConfig(\n    'makeStyledComponent'\n  );\n  const strictMode = config.strictMode;\n\n  const { getResponsiveStyles } = useResponsiveQuery();\n\n  const { styledSystemProps, restProps } = getStyledSystemPropsAndRestProps(\n    props\n  );\n\n  const { style, dataSet } = React.useMemo(() => {\n    const { styleSheet, dataSet } = getStyleAndFilteredProps({\n      styledSystemProps,\n      theme,\n      debug,\n      currentBreakpoint,\n      strictMode,\n      getResponsiveStyles,\n    });\n    if (propStyle) {\n      return { style: [styleSheet.box, propStyle], dataSet };\n    } else {\n      return { style: styleSheet.box, dataSet };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    stableHash(styledSystemProps),\n    theme,\n    debug,\n    currentBreakpoint,\n    strictMode,\n    propStyle,\n    getResponsiveStyles,\n    props,\n  ]);\n  if (process.env.NODE_ENV === 'development' && debug) {\n    /* eslint-disable-next-line */\n    console.log('style,resprops', currentBreakpoint);\n  }\n\n  restProps.dataSet = dataSet;\n\n  return [style, restProps];\n};\n"]}