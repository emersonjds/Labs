{"version":3,"sources":["useKeyboardBottomInset.ts"],"names":["useKeyboardBottomInset","bottom","setBottom","React","useState","subscriptions","useRef","useEffect","onKeyboardChange","e","startCoordinates","endCoordinates","screenY","height","Platform","OS","current","Keyboard","addListener","forEach","subscription","remove"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEO,MAAMA,sBAAsB,GAAG,MAAM;AAC1C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,KAAK,CAACC,QAAN,CAAe,CAAf,CAA5B;AACA,QAAMC,aAAa,GAAGF,KAAK,CAACG,MAAN,CAAoB,EAApB,CAAtB;AAEAH,EAAAA,KAAK,CAACI,SAAN,CAAgB,MAAM;AACpB,aAASC,gBAAT,CAA0BC,CAA1B,EAA4C;AAC1C,UACEA,CAAC,CAACC,gBAAF,IACAD,CAAC,CAACE,cAAF,CAAiBC,OAAjB,IAA4BH,CAAC,CAACC,gBAAF,CAAmBE,OAFjD,EAIEV,SAAS,CAACO,CAAC,CAACE,cAAF,CAAiBE,MAAjB,GAA0B,CAA3B,CAAT,CAJF,KAKKX,SAAS,CAAC,CAAD,CAAT;AACN;;AAED,QAAIY,sBAASC,EAAT,KAAgB,KAApB,EAA2B;AACzBV,MAAAA,aAAa,CAACW,OAAd,GAAwB,CACtBC,sBAASC,WAAT,CAAqB,yBAArB,EAAgDV,gBAAhD,CADsB,CAAxB;AAGD,KAJD,MAIO;AACLH,MAAAA,aAAa,CAACW,OAAd,GAAwB,CACtBC,sBAASC,WAAT,CAAqB,iBAArB,EAAwCV,gBAAxC,CADsB,EAEtBS,sBAASC,WAAT,CAAqB,iBAArB,EAAwCV,gBAAxC,CAFsB,CAAxB;AAID;;AACD,WAAO,MAAM;AACXH,MAAAA,aAAa,CAACW,OAAd,CAAsBG,OAAtB,CAA+BC,YAAD,IAAkB;AAC9CA,QAAAA,YAAY,CAACC,MAAb;AACD,OAFD;AAGD,KAJD;AAKD,GAzBD,EAyBG,CAACnB,SAAD,EAAYG,aAAZ,CAzBH;AA2BA,SAAOJ,MAAP;AACD,CAhCM","sourcesContent":["import * as React from 'react';\nimport { Keyboard, Platform, KeyboardEvent } from 'react-native';\n\nexport const useKeyboardBottomInset = () => {\n  const [bottom, setBottom] = React.useState(0);\n  const subscriptions = React.useRef<any[]>([]);\n\n  React.useEffect(() => {\n    function onKeyboardChange(e: KeyboardEvent) {\n      if (\n        e.startCoordinates &&\n        e.endCoordinates.screenY <= e.startCoordinates.screenY\n      )\n        setBottom(e.endCoordinates.height / 2);\n      else setBottom(0);\n    }\n\n    if (Platform.OS === 'ios') {\n      subscriptions.current = [\n        Keyboard.addListener('keyboardWillChangeFrame', onKeyboardChange),\n      ];\n    } else {\n      subscriptions.current = [\n        Keyboard.addListener('keyboardDidHide', onKeyboardChange),\n        Keyboard.addListener('keyboardDidShow', onKeyboardChange),\n      ];\n    }\n    return () => {\n      subscriptions.current.forEach((subscription) => {\n        subscription.remove();\n      });\n    };\n  }, [setBottom, subscriptions]);\n\n  return bottom;\n};\n"]}