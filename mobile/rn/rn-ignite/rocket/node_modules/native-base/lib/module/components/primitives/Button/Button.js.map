{"version":3,"sources":["Button.tsx"],"names":["React","memo","forwardRef","Spinner","usePropsResolution","default","Box","HStack","Pressable","composeEventHandlers","useHover","useFocus","useIsPressed","useFocusRing","useHasResponsiveProps","Button","children","startIcon","rightIcon","leftIcon","endIcon","spinner","isDisabled","isLoading","isHovered","isHoveredProp","isPressed","isPressedProp","isFocused","isFocusedProp","isFocusVisible","isFocusVisibleProp","spinnerPlacement","props","ref","hoverProps","pressableProps","focusProps","focusRingProps","onPressIn","onPressOut","onHoverIn","onHoverOut","onFocus","onBlur","_text","_stack","_spinner","isLoadingText","_icon","resolvedProps","isValidElement","Children","map","child","index","cloneElement","key","spinnerElement","color","boxChildren","accessibilityRole"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport Spinner from '../Spinner';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { default as Box, IBoxProps } from '../Box';\nimport HStack from '../Stack/HStack';\nimport { Pressable } from '../Pressable';\nimport type { IButtonProps } from './types';\nimport { composeEventHandlers } from '../../../utils';\nimport {\n  useHover,\n  useFocus,\n  useIsPressed,\n} from '../../primitives/Pressable/Pressable';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst Button = (\n  {\n    //@ts-ignore\n    children,\n    startIcon,\n    rightIcon,\n    leftIcon,\n    endIcon,\n    spinner,\n    isDisabled,\n    isLoading,\n    isHovered: isHoveredProp,\n    isPressed: isPressedProp,\n    isFocused: isFocusedProp,\n    isFocusVisible: isFocusVisibleProp,\n    spinnerPlacement = 'start',\n    ...props\n  }: IButtonProps & IBoxProps,\n  ref: any\n) => {\n  const { hoverProps, isHovered } = useHover();\n  const { pressableProps, isPressed } = useIsPressed();\n  const { focusProps, isFocused } = useFocus();\n  const { isFocusVisible, focusProps: focusRingProps }: any = useFocusRing();\n\n  const {\n    onPressIn,\n    onPressOut,\n    onHoverIn,\n    onHoverOut,\n    onFocus,\n    onBlur,\n    _text,\n    _stack,\n    _spinner,\n    isLoadingText,\n    _icon,\n    ...resolvedProps\n  } = usePropsResolution('Button', props, {\n    isDisabled,\n    isHovered: isHoveredProp || isHovered,\n    isFocused: isFocusedProp || isFocused,\n    isPressed: isPressedProp || isPressed,\n    isLoading,\n    isFocusVisible: isFocusVisibleProp || isFocusVisible,\n  });\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (leftIcon) {\n    startIcon = leftIcon;\n  }\n  if (rightIcon) {\n    endIcon = rightIcon;\n  }\n  if (endIcon && React.isValidElement(endIcon)) {\n    endIcon = React.Children.map(\n      endIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-end-icon-${index}`,\n          ..._icon,\n          ...child.props,\n        });\n      }\n    );\n  }\n  if (startIcon && React.isValidElement(startIcon)) {\n    startIcon = React.Children.map(\n      startIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-start-icon-${index}`,\n          ..._icon,\n          ...child.props,\n        });\n      }\n    );\n  }\n\n  const spinnerElement = spinner ? (\n    spinner\n  ) : (\n    <Spinner color={_text?.color} {..._spinner} />\n  );\n\n  const boxChildren = (child: any) => {\n    return child ? <Box _text={_text}>{child}</Box> : null;\n  };\n\n  return (\n    <Pressable\n      disabled={isDisabled || isLoading}\n      ref={ref}\n      onPressIn={composeEventHandlers(onPressIn, pressableProps.onPressIn)}\n      onPressOut={composeEventHandlers(onPressOut, pressableProps.onPressOut)}\n      // @ts-ignore - web only\n      onHoverIn={composeEventHandlers(onHoverIn, hoverProps.onHoverIn)}\n      // @ts-ignore - web only\n      onHoverOut={composeEventHandlers(onHoverOut, hoverProps.onHoverOut)}\n      // @ts-ignore - web only\n      onFocus={composeEventHandlers(\n        composeEventHandlers(onFocus, focusProps.onFocus),\n        focusRingProps.onFocus\n      )}\n      // @ts-ignore - web only\n      onBlur={composeEventHandlers(\n        composeEventHandlers(onBlur, focusProps.onBlur),\n        focusRingProps.onBlur\n      )}\n      {...resolvedProps}\n      accessibilityRole={props.accessibilityRole ?? 'button'}\n    >\n      <HStack {..._stack} test={true}>\n        {startIcon && !isLoading ? startIcon : null}\n        {isLoading && spinnerPlacement === 'start' ? spinnerElement : null}\n        {isLoading\n          ? isLoadingText\n            ? boxChildren(isLoadingText)\n            : null\n          : boxChildren(children)}\n\n        {endIcon && !isLoading ? endIcon : null}\n        {isLoading && spinnerPlacement === 'end' ? spinnerElement : null}\n      </HStack>\n    </Pressable>\n  );\n};\n\nexport default memo(forwardRef(Button));\n"]}