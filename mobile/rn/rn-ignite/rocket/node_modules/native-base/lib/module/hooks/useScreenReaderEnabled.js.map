{"version":3,"sources":["useScreenReaderEnabled.ts"],"names":["React","AccessibilityInfo","useScreenReaderEnabled","enabled","setEnabled","useState","mountedRef","useRef","handleSetEnabled","value","current","useEffect","setInitialValue","res","isScreenReaderEnabled","handler","addEventListener","event","removeEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,cAAlC;AAEA,OAAO,SAASC,sBAAT,GAAkC;AACvC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,KAAK,CAACK,QAAN,CAAe,KAAf,CAA9B;AACA,QAAMC,UAAU,GAAGN,KAAK,CAACO,MAAN,CAAa,KAAb,CAAnB;;AAEA,QAAMC,gBAAgB,GAAIC,KAAD,IAAoB;AAC3C,QAAIH,UAAU,CAACI,OAAf,EAAwB;AACtBN,MAAAA,UAAU,CAACK,KAAD,CAAV;AACD;AACF,GAJD;;AAMAT,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAM;AACpBL,IAAAA,UAAU,CAACI,OAAX,GAAqB,IAArB;;AACA,mBAAeE,eAAf,GAAiC;AAC/B,YAAMC,GAAG,GAAG,MAAMZ,iBAAiB,CAACa,qBAAlB,EAAlB;AACAN,MAAAA,gBAAgB,CAACK,GAAD,CAAhB;AACD;;AAED,QAAIE,OAAY,GAAGd,iBAAiB,CAACe,gBAAlB,CACjB,qBADiB,EAEhBC,KAAD,IAAgB;AACdT,MAAAA,gBAAgB,CAACS,KAAD,CAAhB;AACD,KAJgB,CAAnB;AAOAL,IAAAA,eAAe;AACf,WAAO,MAAM;AACXN,MAAAA,UAAU,CAACI,OAAX,GAAqB,KAArB;AACAT,MAAAA,iBAAiB,CAACiB,mBAAlB,CAAsC,qBAAtC,EAA6DH,OAA7D;AACD,KAHD;AAID,GAnBD;AAqBA,SAAOZ,OAAP;AACD","sourcesContent":["import React from 'react';\nimport { AccessibilityInfo } from 'react-native';\n\nexport function useScreenReaderEnabled() {\n  const [enabled, setEnabled] = React.useState(false);\n  const mountedRef = React.useRef(false);\n\n  const handleSetEnabled = (value: boolean) => {\n    if (mountedRef.current) {\n      setEnabled(value);\n    }\n  };\n\n  React.useEffect(() => {\n    mountedRef.current = true;\n    async function setInitialValue() {\n      const res = await AccessibilityInfo.isScreenReaderEnabled();\n      handleSetEnabled(res);\n    }\n\n    let handler: any = AccessibilityInfo.addEventListener(\n      'screenReaderChanged',\n      (event: any) => {\n        handleSetEnabled(event);\n      }\n    );\n\n    setInitialValue();\n    return () => {\n      mountedRef.current = false;\n      AccessibilityInfo.removeEventListener('screenReaderChanged', handler);\n    };\n  });\n\n  return enabled;\n}\n"]}