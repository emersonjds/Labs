<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <body>
      <button onclick="initCalc('+')">+</button>
      <button onclick="initCalc('-')">-</button>
      <button onclick="initCalc('*')">*</button>
      <button onclick="initCalc('/')">/</button>
      <div class="output"></div>
      <script>
        var n = parseInt(prompt("Digite um numero"));
        write(n);

        function initCalc(operator) {
          var n1 = parseInt(document.querySelector(".output").textContent);
          var n2 = parseInt(prompt("Digite o outro numero"));
          try {
            var totalValue = calc(operator, n1, n2);
          } catch (e) {
            console.log(e);
            return;
          }

          write(totalValue);
        }

        function write(msg) {
          var out = document.querySelector(".output");
          out.innerHTML = msg;
        }

        function calc(operator, n1, n2) {
          var calculatedNumber = null;
          validOperator(operator);
          isNumValue(n1, n2);

          switch (operator) {
            case "+":
              calculatedNumber = n1 + n2;
              break;
            case "-":
              calculatedNumber = n1 - n2;
              break;
            case "*":
              calculatedNumber = n1 * n2;
              break;
            case "/":
              calculatedNumber = n1 / n2;
              break;
          }
          return calculatedNumber;
        }

        function validOperator(operator) {
          if (
            operator !== "+" &&
            operator !== "-" &&
            operator !== "*" &&
            operator !== "/"
          ) {
            throw new Error("Operador invalido");
          } else {
            return operator;
          }
        }

        function isNumValue(n1, n2) {
          if (isNaN(n1) || isNaN(n2)) {
            throw new Error(
              "O numero informado nao pode ser convertido, tente novamente"
            );
            return 0;
          }
        }
      </script>
    </body>
  </body>
</html>
