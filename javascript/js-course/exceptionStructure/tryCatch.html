<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Learn Exceptions</title>
</head>

<script>
	// try {
	// 	. . . script com possivel excessao
	// }catch(e) {
	// 	. . . tratamento do erro
	// }finally {
	// 	. . . script a executar caso ocorra ou nao excessao	
	// }

	try {
		var x = u;
		var y = x + 2;
		console.log(y);
	} catch (e) {
		alert((e.message) + "\n" + e.name + "\n" + e.toString());
	};

	var x = prompt("Entre com um numero entre 0 e 10");

	try {
		if (x <= 0) {
			throw("er1");
		}
		if (x >= 11) {
			throw("er2");
		}
		if (isNaN(parseInt(x))) {
			throw("er3");
		}
	} catch (e) {
		if (e == "er1") 
			alert("O numero deve ser maior que 0");
		else if(e == "er2")
			alert("O numero deve ser menor que 11");
		else
			alert("Entre somente com os valores propostos");
	}


	//Outra forma de throw

	var x = prompt("Entre com um numero entre 0 e 20");

	try {
		if (x <= 0) {
			throw new Error("Informe um nuero maior que 0");
		}
		if (x >= 20) {
			throw new Error("Digite somente numeros abaixo de 20");
		}
		if (isNaN(parseInt(x))) {
			throw new Error("Entre somente com os numeros informados");
		}
	} catch (e) {
		alert(e.message);
	}


	//Outra forma de uso do throw
	var x = prompt("Entre com um numero maior do que 0 e menor do que 11" , " ");
	try {
		if(x <= 0) {
			throw {
				name : "Erro Javascript",
				message : "O numero deve ser maior que 0"
			};
		}

		if(x >= 11) {
			throw {
				name : "Erro Javascript",
				message : "O numero deve ser menor do que 11"
			};
		}

		if(isNaN(parseInt(x))) {
			throw {
				name : "Erro Javascript",
				message : "Entre somente com os numeros informados"
			}
		}
	} catch (e) {
		alert(e.name + "\n" + e.message);
	}

	function showMessage() {
		try {
			axxxlert("Hello");
		} catch (e) {
			txt = "There was an error on this page .\n \n"; 
			txt += "Error description " + e.message;
			alert(txt);
		} finally {
			document.getElementById(outError).innerHTML = "Finally . . .";
		}
	}

	function testThrow () {
		
		var x = document.getElementById("userInput").value;
		try {
			if (x == " ") {
				throw new Error("Empty");
			}

			if (x > 10) {
				throw new Error("To High"); 
			}
			if (x < 0 ) {
				throw new Error("To Low");
			}
		} catch (e) {
			alert(e.message);
		}
	}

</script>
<body>
	<p><button onclick="showMessage()">Click Here for TryCatch</button></p>
	<p><span id="outError"></span></p>

	<p>Insert a number between 0 and 10</p>
	<input type="text" id="userInput"><br>
	<button onclick="testThrow()">Test Throw</button>

</body>
</html>